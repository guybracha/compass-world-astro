---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getEntryBySlug } from 'astro:content';

const { slug } = Astro.params;
const entry = await getEntryBySlug('primeChildren', slug!);
if (!entry || entry.data.kind === 'overview') {
  throw new Error('Prime-Child not found');
}
const { Content, data } = await entry.render();
const title = data.name || data.title || 'Prime-Child';
---
<BaseLayout title={`${title} | Prime-Children`}>
  <section class="container py-4">
    <a class="text-white-50" href="/prime-children/">‚Üê Back to list</a>
    <div class="row mt-3 g-4">
      <div class="col-lg-4">
        {data.image
          ? <img src={data.image} alt={title} class="img-fluid rounded-3 shadow-sm" />
          : <div class="rounded-3 bg-secondary-subtle d-flex align-items-center justify-content-center" style="height:260px">
              <span class="text-white-50">No image</span>
            </div>}
      </div>
      <div class="col-lg-8">
        <h1 class="h3">{title}</h1>
        {data.tags?.length && <p class="text-white-50 mb-1">#{data.tags.join(' #')}</p>}
        {data.summary && <p class="text-white-50">{data.summary}</p>}
        <article class="mt-3">
          <Content />
        </article>
      </div>
    </div>
  </section>
</BaseLayout>
